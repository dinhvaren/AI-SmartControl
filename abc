# Khá»Ÿi táº¡o biáº¿n
prev_x = None  # LÆ°u vá»‹ trÃ­ X trÆ°á»›c Ä‘Ã³
alt_tab_active = False  # Kiá»ƒm tra xem Alt + Tab cÃ³ Ä‘ang Ä‘Æ°á»£c kÃ­ch hoáº¡t khÃ´ng

two_hand = []
while True:
    ret, frame = cap.read()
    frame = detector.findHands(frame)
    pointList = detector.findTwoHandsPosition(frame, draw=False)

    left_hand = None
    right_hand = None

    # Kiá»ƒm tra xem cÃ³ tay nÃ o khÃ´ng
    for hand in pointList:
        handType, handPoints = hand  # handType: "Left" hoáº·c "Right"
        
        if handType == "Left":
            left_hand = handPoints  # LÆ°u tá»a Ä‘á»™ bÃ n tay trÃ¡i
        elif handType == "Right":
            right_hand = handPoints  # LÆ°u tá»a Ä‘á»™ bÃ n tay pháº£i

    # XÃ¡c Ä‘á»‹nh tráº¡ng thÃ¡i
    if left_hand and right_hand:
        print("NgÆ°á»i dÃ¹ng Ä‘ang giÆ¡ Cáº¢ HAI TAY âœ‹âœ‹")
        prev_x = None  # Reset khi cÃ³ hai tay
        alt_tab_active = False

    elif left_hand:
        print("NgÆ°á»i dÃ¹ng Ä‘ang giÆ¡ TAY TRÃI âœ‹")
        print(left_hand)

    elif right_hand:
        x_index_finger = right_hand[8][1]  # Tá»a Ä‘á»™ X cá»§a ngÃ³n trá»

        if prev_x is not None:  # Kiá»ƒm tra xem cÃ³ dá»¯ liá»‡u trÆ°á»›c Ä‘Ã³ khÃ´ng
            dx = x_index_finger - prev_x

            if not alt_tab_active and dx > 30:  # KÃ­ch hoáº¡t Alt + Tab khi vuá»‘t láº§n Ä‘áº§u
                pyautogui.hotkey("alt", "tab")
                alt_tab_active = True
                print("Báº¯t Ä‘áº§u Alt + Tab")

            elif alt_tab_active and dx > 30:  # Tiáº¿p tá»¥c chuyá»ƒn cá»­a sá»• náº¿u Ä‘ang giá»¯ Alt
                pyautogui.press("tab")
                print("Nháº¥n Tab Ä‘á»ƒ chuyá»ƒn cá»­a sá»•")

        prev_x = x_index_finger  # Cáº­p nháº­t tá»a Ä‘á»™ X cá»§a ngÃ³n trá»
        print("NgÆ°á»i dÃ¹ng Ä‘ang giÆ¡ TAY PHáº¢I ğŸ¤š")
        print(right_hand)

    else:
        print("KhÃ´ng phÃ¡t hiá»‡n tay nÃ o!")
        prev_x = None  # Reset khi khÃ´ng cÃ³ tay nÃ o
        alt_tab_active = False  # Reset tráº¡ng thÃ¡i Alt+Tab